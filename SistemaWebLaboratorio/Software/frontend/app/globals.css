@tailwind base;
@tailwind components;
@tailwind utilities;

:root{
  /* Modern Professional Design System - Sistema Laboratorio Clínico Franz */

  /* Colores principales - Medical Blue Palette */
  --brand-primary: #0052CC; /* Azul médico profesional */
  --brand-secondary: #00366D; /* Azul profundo confianza */
  --brand-tertiary: #5E72E4; /* Violeta tecnológico */
  --accent-success: #00B67A; /* Verde salud */
  --accent-warning: #F59E0B; /* Ámbar alerta */
  --accent-danger: #DC2626; /* Rojo crítico */
  --accent-info: #0EA5E9; /* Azul información */

  /* Superficies y fondos */
  --surface-page: #F5F7FA;
  --surface-card: #FFFFFF;
  --surface-elevated: #FFFFFF;
  --surface-hover: #F8FAFB;
  --surface-glass: rgba(255,255,255,0.95);

  /* Bordes */
  --border-soft: #E5E9F2;
  --border-strong: #CBD5E1;
  --border-focus: #0052CC;

  /* Textos */
  --text-main: #1A202C;
  --text-secondary: #4A5568;
  --text-muted: #718096;
  --text-invert: #FFFFFF;
  --text-placeholder: #A0AEC0;

  /* Efectos */
  --focus-ring: rgba(0, 82, 204, 0.3);
  --overlay-scrim: rgba(0, 0, 0, 0.4);

  /* Medidas */
  --radius-card: 12px;
  --radius-button: 8px;
  --radius-input: 8px;
  --nav-height: 64px;

  /* Sombras modernas */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.05);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 0 10px 10px rgba(0, 0, 0, 0.04);
  --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.15);

  /* Sidebar */
  --sidebar-bg: linear-gradient(180deg, #1A365D 0%, #0F2942 100%);
  --sidebar-border: rgba(255,255,255,0.08);
  --sidebar-fg: #E2E8F0;

  /* estados */
  --success-bg:#D1FAE5; --success-fg:#065F46;
  --warning-bg:#FEF3C7; --warning-fg:#92400E;
  --danger-bg:#FFE4E6; --danger-fg:#B91C1C;
  --info-bg:#DBEAFE; --info-fg:#1E3A8A;

  /* espaciado */
  --space-8: 8px;
  --space-16: 16px;
  --space-24: 24px;
  --space-32: 32px;

  /* alias de compatibilidad con código existente */
  --txt: var(--text-main);
  --muted: var(--text-muted);
  
  /* paleta cromática */
  --blue-50:#EEF2FF; --blue-100:#E0E7FF; --blue-200:#C7D2FE; --blue-300:#93C5FD; --blue-400:#60A5FA; --blue-500:#2563EB; --blue-600:#1D4ED8;
  --red-50:#FFF1F2; --red-100:#FFE4E6; --red-200:#FECDD3; --red-300:#FDA4AF; --red-500:#D8232A; --red-600:#B91C1C;
  --green-50:#ECFDF5; --green-100:#D1FAE5; --green-400:#34D399; --green-600:#059669;
  --orange-50:#FFF7ED; --orange-100:#FFEDD5; --orange-400:#FB923C; --orange-600:#EA580C;

  /* animaciones base */
  --ease-out: cubic-bezier(.16,1,.3,1);
  --ease-in: cubic-bezier(.7,0,.84,0);
  --dur-fast: 120ms; --dur-med: 220ms; --dur-slow: 360ms;
}


html,body{ height:100%; }
body{
  margin:0; padding:0; background:var(--surface-page); color:var(--text-main);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
body.app-shell{
  min-height:100vh;
  background: var(--surface-page);
  color: var(--text-main);
}
body.app-shell::before{
  content:'';
  position:fixed;
  inset:0;
  z-index:-1;
  background: var(--surface-page);
}
body.app-shell::after{
  display:none;
}

/* Modern top toolbar */
.toolbar{
  position: sticky;
  top:0;
  z-index:40;
  backdrop-filter: saturate(180%) blur(18px);
  background: rgba(244,248,255,0.92);
  border-bottom:1px solid rgba(255,255,255,0.6);
  box-shadow: 0 18px 35px rgba(15,23,42,0.05);
}
.toolbar::after{
  content:'';
  position:absolute;
  inset:0;
  pointer-events:none;
  background: linear-gradient(90deg, rgba(37,99,235,0.08), transparent 40%);
}
.toolbar-inner{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:flex-end;
  gap:0.8rem;
  padding:0.65rem clamp(0.75rem, 3vw, 2rem);
  position:relative;
  z-index:1;
  max-width:960px;
  margin-left:auto;
}
.brand-pill{ margin-right:auto; min-width:220px; }
.brand-pill{
  display:flex;
  align-items:center;
  gap:0.75rem;
  padding:0.4rem 1.1rem 0.4rem 0.45rem;
  border-radius:999px;
  border:1px solid var(--glass-border);
  background: var(--surface-glass);
  box-shadow: 0 20px 40px rgba(79,70,229,0.15);
}
.brand-logo{
  width:44px;
  height:44px;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  letter-spacing:0.04em;
  color:#fff;
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-tertiary));
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.35);
}
.brand-meta{
  display:flex;
  flex-direction:column;
  line-height:1.1;
}
.brand-meta span{
  font-size:0.75rem;
  text-transform:uppercase;
  letter-spacing:0.14em;
  color:var(--text-muted);
}
.brand-meta strong{
  font-size:1rem;
  color:var(--text-main);
}
.toolbar-search{
  position:relative;
  flex:1 1 260px;
  max-width:340px;
}
.pill-input{
  width:100%;
  border-radius:999px;
  background:#f5f7ff;
  border:1px solid var(--border-soft);
  font-size:14px;
  padding:0.65rem 1rem;
  transition: background var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out);
}
.pill-input:focus{
  background:#fff;
  border-color: var(--brand-secondary);
  box-shadow:0 0 0 3px rgba(37,99,235,0.18);
  outline:none;
}
.toolbar-search input{
  width:100%;
  border-radius:999px;
  background:#f5f7ff;
  border:1px solid var(--border-soft);
  font-size:14px;
  padding:0.75rem 1rem 0.75rem 2.6rem;
  transition: background var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out);
}
.toolbar-search input:focus{
  background:#fff;
  border-color: var(--brand-secondary);
  box-shadow:0 0 0 3px rgba(37,99,235,0.18);
  outline:none;
}
.toolbar-search svg{
  position:absolute;
  width:18px;
  height:18px;
  left:1rem;
  top:50%;
  transform: translateY(-50%);
  color:#94a3b8;
  pointer-events:none;
}
.toolbar-actions{
  display:flex;
  align-items:center;
  gap:0.5rem;
  margin-left:auto;
}
@media (max-width: 768px){
  .toolbar-inner{
    flex-direction:column;
    align-items:flex-start;
  }
  .toolbar-actions{
    width:100%;
    justify-content:flex-end;
    margin-left:0;
  }
}
.icon-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:40px;
  height:40px;
  border-radius:14px;
  border:1px solid var(--border-soft);
  background:#fff;
  color:var(--text-main);
  transition: background var(--dur-med) var(--ease-out), transform var(--dur-fast) var(--ease-out), box-shadow var(--dur-med) var(--ease-out);
  box-shadow:0 10px 20px rgba(15,23,42,0.06);
}
.icon-btn:hover{ background:#f3f4f6; }
.icon-btn:active{ transform: translateY(0.5px); }
.btn-link{
  display:inline-flex;
  align-items:center;
  gap:0.35rem;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.4);
  padding:0.55rem 1.2rem;
  font-weight:600;
  color:var(--brand-secondary);
  background:#fff;
  text-decoration:none;
  transition: all var(--dur-med) var(--ease-out);
}
.btn-link:hover{ border-color:var(--brand-secondary); box-shadow:0 10px 25px rgba(37,99,235,0.15); }
.badge-dot{ position:absolute; right:7px; top:7px; width:8px; height:8px; background: var(--brand-primary); border-radius:999px; box-shadow:0 0 0 2px #fff; }
.avatar-chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  border:1px solid var(--border-soft);
  background:#fff;
  border-radius:999px;
  padding:4px 12px 4px 4px;
  transition: background var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out);
  box-shadow:0 15px 25px rgba(15,23,42,0.08);
}
.avatar-chip:hover{ background:#f8fafc; }
.avatar-initial{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:32px;
  height:32px;
  border-radius:999px;
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-tertiary));
  color:#fff;
  font-weight:600;
}
.chip-label{ font-size:13px; font-weight:600; color:var(--text-main); }
.menu-sheet{ position:absolute; right:0; margin-top:8px; width:240px; background:#fff; border:1px solid var(--border-soft); border-radius:16px; overflow:hidden; box-shadow: 0 24px 45px rgba(15,23,42,0.12); }
.menu-item{ display:block; width:100%; text-align:left; padding:10px 14px; font-size:14px; color:var(--text-main); background:#fff; border:none; text-decoration:none; }
.menu-item:hover{ background:#f3f4f6; }
.menu-sep{ height:1px; background: var(--border-soft); margin:4px 0; }

/* Quick links in topbar */
.quick-links{ margin-right:8px; padding:2px; background: #f1f5ff; border:1px solid var(--blue-100); border-radius:999px; box-shadow: inset 0 1px 0 rgba(255,255,255,.6); }
.ql-btn{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; color:#1f2937; text-decoration:none; border:1px solid transparent; }
.ql-btn:hover{ background:#eef2ff; border-color: var(--blue-100); }

/* Focus visible accesible y consistente en todo el sistema */
:where(button, a, input, select, textarea, [role="button"], [role="tab"], [role="switch"], [aria-controls])::selection{ background: rgba(59,130,246,0.18); }
:where(button, a, input, select, textarea, [role="button"], [role="tab"], [role="switch"], [aria-controls]):focus{ outline: none; }
:where(button, a, input, select, textarea, [role="button"], [role="tab"], [role="switch"], [aria-controls]):focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(59,130,246,0.3);
}

/* Evita bordes negros al hacer click en contenedores estructurales */
:where(main, header, footer, nav, aside, section, article, div):focus{ outline: none; }

.container{ max-width:1200px; margin:0 auto; padding:1rem; }
.admin-shell{ min-height:100vh; }
.admin-shell__body{
  display:grid;
  gap:1.5rem;
  grid-template-columns: clamp(260px, 20vw, 320px) minmax(0,1fr);
  padding:0 0 2.5rem 0;
  align-items:stretch;
}
.admin-shell__sidebar{
  position:sticky;
  top:var(--nav-height);
  z-index:1;
  align-self:start;
  height:calc(100vh - var(--nav-height));
}
.admin-shell__main{
  min-height:calc(100vh - var(--nav-height));
}
@media (max-width: 1023px){
  .admin-shell__body{
    grid-template-columns: 1fr;
    padding:1rem;
  }
  .admin-shell__sidebar{ display:none; }
}
#contenido{ scroll-margin-top: calc(var(--nav-height) + 16px); }
.page-hero{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:flex-start;
  gap:1rem;
  padding:1.5rem;
  border-radius:26px;
  border:1px solid rgba(226,232,240,0.9);
  background: linear-gradient(120deg, #ffffff 0%, #f6f9ff 55%, #eef2ff 100%);
  box-shadow:0 25px 45px rgba(16,24,40,0.08);
}
.page-hero__meta{
  text-transform:uppercase;
  letter-spacing:0.25em;
  font-size:0.7rem;
  color:#94a3b8;
  margin-bottom:0.4rem;
}
.page-hero__title{
  font-size:1.75rem;
  line-height:1.2;
  margin:0;
  color:#0f172a;
}
.page-hero__subtitle{
  margin:0.3rem 0 0;
  font-size:1rem;
  color:var(--text-muted);
}
.page-hero__actions{
  display:flex;
  gap:0.6rem;
  align-items:center;
}
.page-hero__actions .icon-btn{ box-shadow:none; }
@media (max-width: 768px){
  .page-hero{ padding:1.25rem; }
  .page-hero__title{ font-size:1.5rem; }
  .page-hero__actions{ width:100%; justify-content:flex-start; }
}
.card{
  background:var(--surface-card);
  border:1px solid var(--border-soft);
  border-radius:var(--radius-card);
  padding:var(--space-16);
  box-shadow:0 12px 30px rgba(15,23,42,0.04);
  position:relative;
}
.card.hoverable{ transition: transform var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out); }
.card.hoverable:hover{ transform: translateY(-1px); box-shadow:0 4px 20px rgba(0,0,0,0.06); border-color:#e2e8f0; }
.panel{
  background:#fff;
  border:1px solid rgba(226,232,240,0.9);
  border-radius:20px;
  padding:1.35rem 1.5rem;
  box-shadow:0 25px 50px rgba(15,23,42,0.06);
}
.panel.hoverable{
  transition: transform var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out);
}
.panel.hoverable:hover{
  transform: translateY(-2px);
  box-shadow:0 30px 60px rgba(15,23,42,0.08);
  border-color:rgba(148,163,184,0.5);
}
.panel + .panel{ margin-top:1rem; }
.panel-heading{ font-size:1rem; font-weight:600; color:#0f172a; }
.panel-sub{ font-size:0.9rem; color:var(--text-muted); margin-top:0.35rem; }
.panel-divider{ height:1px; background:rgba(226,232,240,0.8); margin:1rem 0; }
.portal-grid{ display:grid; gap:1.25rem; }
.portal-grid.cols-2{ grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); }
.portal-grid.cols-3{ grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); }
.booking-grid{
  display:grid;
  gap:1.35rem;
  grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
}
.booking-step{
  background:#fff;
  border:1px solid rgba(226,232,240,0.9);
  border-radius:26px;
  padding:1.5rem;
  box-shadow:0 25px 50px rgba(15,23,42,0.08);
  min-height:100%;
}
.booking-step__meta{
  display:inline-flex;
  align-items:center;
  gap:0.35rem;
  padding:0.25rem 0.75rem;
  border-radius:999px;
  background:#eef2ff;
  color:var(--brand-secondary);
  font-size:0.75rem;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:0.08em;
}
.booking-step__title{ font-size:1.1rem; font-weight:600; margin-top:0.45rem; color:#0f172a; }
.booking-step__subtitle{ font-size:0.92rem; color:var(--text-muted); margin-top:0.15rem; }
.booking-fields{
  margin-top:1.25rem;
  display:grid;
  gap:1rem;
  grid-template-columns: repeat(auto-fit, minmax(180px,1fr));
}
.booking-calendar{
  margin-top:1.2rem;
  display:grid;
  gap:1.25rem;
}
@media (min-width: 1024px){
  .booking-calendar{ grid-template-columns: 1.15fr 0.85fr; }
}
.slot-board{
  background:#f8f9ff;
  border:1px dashed rgba(99,102,241,0.25);
  border-radius:18px;
  padding:1rem;
}
.slot-note{
  margin-top:0.85rem;
  font-size:0.8rem;
  color:var(--brand-secondary);
  background:#eef2ff;
  border-radius:12px;
  padding:0.6rem 0.8rem;
  border:1px solid rgba(99,102,241,0.2);
}
.booking-summary__pill{
  display:inline-flex;
  align-items:center;
  gap:0.35rem;
  padding:0.35rem 0.75rem;
  border-radius:999px;
  background:#eef2ff;
  color:var(--brand-secondary);
  font-size:0.78rem;
  font-weight:600;
}
.booking-summary__row{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:1rem;
  margin-top:1rem;
}
.booking-summary__cta{
  margin-top:1.5rem;
  display:flex;
  flex-direction:column;
  gap:0.6rem;
}
.data-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:0.85rem; }
.data-list__item{ display:flex; justify-content:space-between; align-items:flex-start; gap:1rem; padding-bottom:0.85rem; border-bottom:1px solid rgba(226,232,240,0.7); }
.data-list__item:last-child{ border-bottom:none; padding-bottom:0; }
.data-list__title{ font-weight:600; color:#111827; }
.data-list__meta{ font-size:0.85rem; color:var(--text-muted); }
.filter-bar{ display:flex; flex-wrap:wrap; gap:0.75rem; align-items:flex-end; }
.filter-bar label{ flex:1; min-width:180px; }
.filter-bar button{ align-self:flex-end; }
/* Admin scoped: subtle Material-like elevation + tints */
.admin-surface .card{
  box-shadow: var(--shadow-soft);
  border-color: rgba(208,214,245,0.9);
  background: var(--surface-card);
}
.admin-surface .card.hoverable:hover{ transform: translateY(-3px); box-shadow: var(--shadow-strong); border-color:#cfd6f5; }
.admin-surface .card.hero{
  background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(236,244,255,0.95));
  border-color: rgba(99,102,241,0.22);
  overflow:hidden;
}
.admin-surface .card.hero::after{
  content:'';
  position:absolute;
  right:-40px;
  top:-60px;
  width:220px;
  height:220px;
  background: radial-gradient(circle, rgba(59,130,246,0.2), transparent 70%);
  pointer-events:none;
}
.card.flat{ box-shadow:none; }
.card-header{ padding:12px 16px; border-bottom:1px solid var(--border-soft); border-top-left-radius:var(--radius-card); border-top-right-radius:var(--radius-card); }
.card-header--primary{ background: var(--brand-primary); color: var(--text-invert); border-bottom-color: rgba(0,0,0,0.08); }
.card-header--secondary{ background: var(--brand-secondary); color: var(--text-invert); border-bottom-color: rgba(0,0,0,0.08); }
.card-header--secondary-soft{ background:#EEF2FF; color: var(--brand-secondary); border-bottom-color: rgba(0,0,0,0.06); }
.title{ font-size:22px; line-height:28px; font-weight:600; }
.subtitle{ font-size:14px; color:var(--text-muted); }
.heading-lg{ font-size:22px; line-height:28px; font-weight:600; }
.heading-sm{ font-size:16px; line-height:22px; font-weight:600; }
.body-main{ font-size:16px; }
.body-muted{ font-size:14px; color:var(--text-muted); }
.row{ display:grid; gap:var(--space-16); }
@media (min-width: 768px){ .row.cols-2{ grid-template-columns: 1fr 1fr; } .row.cols-3{ grid-template-columns: 1fr 1fr 1fr; } }

.kpi-border-red{ border-left:4px solid var(--brand-primary); }
.kpi-border-blue{ border-left:4px solid var(--brand-secondary); }
.kpi-border-orange{ border-left:4px solid #ea580c; }

.badge{ display:inline-flex; align-items:center; gap:6px; line-height:1; border-radius:999px; padding:4px 10px; font-size:12px; font-weight:600; border:1px solid transparent; transition: background var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out); }
.badge--sm{ padding:2px 8px; font-size:11px; }
/* Hybrid MD/Flat tones */
.badge-success{ background: var(--green-100); color: var(--green-600); border-color: #bbf7d0; }
.badge-warning{ background: var(--orange-100); color: var(--orange-600); border-color: #fed7aa; }
.badge-danger{ background: var(--red-100); color: var(--red-600); border-color: var(--red-200); }
.badge-info{ background: var(--blue-100); color: var(--blue-600); border-color: var(--blue-200); }
.badge .dot{ width:6px; height:6px; border-radius:999px; background: currentColor; opacity:.9; }
.tag{
  display:inline-flex;
  align-items:center;
  gap:0.35rem;
  padding:0.3rem 0.7rem;
  border-radius:999px;
  font-size:0.78rem;
  font-weight:600;
  background:#eef2ff;
  color:var(--brand-secondary);
  border:1px solid rgba(99,102,241,0.2);
}
.chip{
  display:inline-flex;
  align-items:center;
  gap:0.35rem;
  padding:0.35rem 0.85rem;
  border-radius:999px;
  border:1px solid var(--border-soft);
  background:#fff;
  color:var(--text-muted);
  font-size:0.78rem;
  font-weight:600;
  transition: background var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out), color var(--dur-med) var(--ease-out);
}
.chip-active{
  background: linear-gradient(135deg, var(--brand-secondary), #1b3cb6);
  border-color: transparent;
  color:#fff;
  box-shadow:0 15px 25px rgba(29,78,216,0.3);
}

/* KPI accent chip */
.kpi-chip{ position:absolute; right:10px; top:10px; width:28px; height:8px; border-radius:999px; opacity:.9; }
.kpi-chip.red{ background: var(--brand-primary); }
.kpi-chip.blue{ background: var(--brand-secondary); }
.kpi-chip.orange{ background:#ea580c; }
.kpi-chip.green{ background:#10b981; }

/* KPI icon badge (suave) */
.kpi-badge{ position:absolute; right:12px; top:12px; width:36px; height:36px; border-radius:999px; display:flex; align-items:center; justify-content:center; }
.kpi-badge.blue{ background: rgba(42,44,207,0.12); color: var(--brand-secondary); animation: badgePop var(--dur-slow) var(--ease-out) both; }
.kpi-badge.red{ background: rgba(216,35,42,0.12); color: var(--brand-primary); animation: badgePop var(--dur-slow) var(--ease-out) both; }
.kpi-badge.orange{ background: rgba(234,88,12,0.12); color: #ea580c; }
.kpi-badge.green{ background: rgba(16,185,129,0.14); color: #10b981; }

/* KPI tile (LabCore-like): icon circle + big number */
.kpi-tile{ display:flex; align-items:center; gap:14px; min-height:88px; }
.kpi-stack{ display:flex; flex-direction:column; }
.kpi-title{ font-size:12px; letter-spacing:.02em; color:var(--text-muted); font-weight:600; text-transform:none; }
.kpi-value{ font-size:26px; line-height:30px; font-weight:700; color:var(--text-main); }
.kpi-sub{ font-size:12px; color:var(--text-muted); margin-top:2px; }
.kpi-icon{ width:48px; height:48px; border-radius:999px; display:flex; align-items:center; justify-content:center; border:1px solid var(--border-soft); }
.kpi-icon svg{ width:22px; height:22px; }
.kpi-icon.blue{ color: var(--blue-500); background: var(--blue-50); border-color: var(--blue-100); }
.kpi-icon.red{ color: var(--red-500); background: var(--red-100); border-color: var(--red-200); }
.kpi-icon.orange{ color:#ea580c; background: var(--orange-100); border-color: #fed7aa; }
.kpi-icon.green{ color:#10b981; background: var(--green-100); border-color: #bbf7d0; }
.kpi-trend{ display:flex; align-items:center; gap:6px; font-size:12px; margin-top:6px; }
.kpi-trend.up{ color:#059669; }
.kpi-trend.down{ color:#dc2626; }
.kpi-trend .arrow{ font-size:10px; opacity:.9; }

/* Action tiles (navegación rápida) */
.action-tiles{ gap: 12px; }
.action-tile{ display:flex; align-items:center; gap:12px; padding:12px 14px; background:#fff; border:1px solid var(--border-soft); border-radius:12px; text-decoration:none; color:inherit; transition: transform var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out), background var(--dur-med) var(--ease-out); }
.action-tile:hover{ transform: translateY(-1px); box-shadow: 0 8px 24px rgba(15,23,42,0.06); border-color:#e2e8f0; background:#fbfcff; }
.action-icon{ width:36px; height:36px; border-radius:999px; display:flex; align-items:center; justify-content:center; border:1px solid var(--border-soft); background:#f8fafc; color:#64748B; }
.action-icon svg{ width:18px; height:18px; }
.action-icon.blue{ color: var(--blue-500); background: var(--blue-50); border-color: var(--blue-100); }
.action-icon.green{ color:#10b981; background: var(--green-100); border-color: #bbf7d0; }
.action-icon.orange{ color:#ea580c; background: var(--orange-100); border-color: #fed7aa; }
.action-title{ font-weight:600; }
.action-sub{ font-size:12px; color: var(--text-muted); margin-top:2px; }
.action-chevron{ margin-left:auto; color:#94a3b8; transition: transform var(--dur-fast) var(--ease-out); width:18px; height:18px; }
.action-tile:hover .action-chevron{ transform: translateX(2px); }

/* Fallback styling for existing quick-action cards (without markup change) */
.action-tiles .card{ display:flex; flex-direction:column; gap:2px; padding:12px 14px; }
.action-tiles .card:hover{ transform: translateY(-1px); box-shadow: 0 8px 24px rgba(15,23,42,0.06); border-color:#e2e8f0; background:#fbfcff; }
.action-tiles .card .heading-sm{ display:flex; align-items:center; gap:10px; font-weight:600; margin:0; }
.action-tiles .card .heading-sm svg{ width:20px; height:20px; padding:8px; border-radius:999px; border:1px solid var(--border-soft); background:#f8fafc; color: var(--blue-500); }
.action-tiles .card::after{ content:'\203A'; /* › */ margin-left:auto; color:#94a3b8; align-self:center; }

/* Card toolbars */
.card-toolbar{ display:flex; align-items:center; gap:6px; }
.card-tool{ width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center; border:1px solid var(--border-soft); border-radius:8px; color:#64748B; background:#fff; }
.card-tool:hover{ background:#f3f4f6; color:#374151; }

/* Tabla suave */
.table-soft thead th{ color:#6b7280; font-weight:600; }
.table-soft tbody tr:hover td{ background:#F8FAFC; }

table{ width:100%; border-collapse:collapse; }
thead th{ text-align:left; font-weight:600; font-size:0.875rem; border-bottom:1px solid var(--border-soft); padding:0.5rem; }
tbody td{ border-bottom:1px solid var(--border-soft); padding:0.5rem; font-size:0.875rem; }
.table-hover tbody tr:hover td{ background:#FAFBFC; }
.table-hover tbody tr:focus-within td{
  outline:none;
  box-shadow: inset 0 0 0 2px rgba(59,130,246,0.35);
  background:#F7FAFF;
}
.quote-date{ display:flex; flex-direction:column; line-height:1.2; }
.quote-date__main{ font-weight:600; color:var(--text-main); }
.quote-date__sub{ font-size:0.8rem; color:var(--text-muted); }
.quote-actions{ display:flex; flex-wrap:wrap; gap:0.5rem; align-items:center; justify-content:flex-end; }
.quote-section__header{ font-weight:600; color:var(--text-main); text-transform:uppercase; letter-spacing:0.08em; font-size:0.8rem; margin-bottom:0.35rem; }
.quote-section__header{ display:flex; align-items:center; justify-content:space-between; gap:0.6rem; font-weight:600; color:var(--text-main); }
.quote-section__count{ display:inline-flex; align-items:center; justify-content:center; min-width:32px; padding:0.1rem 0.65rem; border-radius:999px; background:rgba(99,102,241,0.14); color:var(--brand-secondary); font-size:0.82rem; font-weight:600; }
.panel-toolbar{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  gap:0.75rem;
  margin-bottom:0.75rem;
}
.filter-chips{ display:flex; flex-wrap:wrap; gap:0.5rem; }
.filter-meta{ font-size:0.85rem; color:var(--text-muted); }
.alert-banner{
  border:1px solid rgba(37,99,235,0.25);
  border-radius:18px;
  background:rgba(59,130,246,0.08);
  padding:0.85rem 1rem;
  font-size:0.9rem;
  color:#1d4ed8;
}
.agenda-list{ margin-top:1rem; display:flex; flex-direction:column; gap:1rem; }
.agenda-item{
  display:flex;
  gap:1rem;
  border:1px solid var(--border-soft);
  border-radius:20px;
  padding:1rem;
  background:#fff;
  box-shadow:0 20px 45px rgba(15,23,42,0.07);
  transition: transform var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out);
}
.agenda-item:hover{ transform: translateY(-2px); box-shadow:0 30px 60px rgba(15,23,42,0.1); }
.agenda-item__layout{ display:flex; gap:1.25rem; justify-content:space-between; width:100%; }
.agenda-item__badge{
  width:64px;
  min-width:64px;
  border-radius:18px;
  background:#eef2ff;
  color:var(--brand-secondary);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-weight:600;
  text-transform:capitalize;
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.5);
}
.agenda-item__badge span:last-child{
  font-size:0.78rem;
  color:var(--text-muted);
  font-weight:500;
}
.agenda-item__body{ flex:1; display:flex; flex-direction:column; gap:0.35rem; }
.agenda-item__title{ font-size:1rem; font-weight:600; color:#0f172a; }
.agenda-item__meta{ font-size:0.85rem; color:var(--text-muted); }
.agenda-item__actions{ display:flex; flex-wrap:wrap; gap:0.4rem; margin-top:0.4rem; }
.agenda-item__summary{
  width:240px;
  min-width:220px;
  border:1px solid rgba(99,102,241,0.18);
  border-radius:18px;
  background:linear-gradient(135deg, rgba(99,102,241,0.12), #eef2ff);
  padding:1rem;
  display:flex;
  flex-direction:column;
  gap:0.65rem;
  align-self:stretch;
}
.agenda-summary__stat{ display:flex; flex-direction:column; }
.agenda-summary__label{ font-size:0.8rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.08em; }
.agenda-summary__value{ font-size:1.1rem; font-weight:600; color:#1d4ed8; }
.agenda-summary__note{ font-size:0.85rem; color:var(--text-main); line-height:1.3; }
.agenda-empty{
  border:1px dashed var(--border-soft);
  border-radius:18px;
  padding:1.25rem;
  text-align:center;
  color:var(--text-muted);
  background:#f8fafc;
}
.agenda-pagination{ margin-top:1.25rem; display:flex; align-items:center; justify-content:center; gap:1rem; font-size:0.9rem; color:var(--text-muted); }
.agenda-pagination span{ font-weight:600; color:var(--text-main); }
@media (max-width: 768px){
  .agenda-item__layout{ flex-direction:column; }
  .agenda-item__summary{ width:100%; }
}
.agenda-item__chips{ display:flex; flex-wrap:wrap; gap:0.4rem; }
.agenda-chip{ display:inline-flex; align-items:center; padding:0.2rem 0.65rem; border-radius:999px; background:#eef2ff; color:var(--brand-secondary); font-size:0.75rem; font-weight:600; text-transform:capitalize; }

button.icon{ border:1px solid var(--border-soft); background:#fff; border-radius:0.5rem; padding:0.35rem 0.6rem; cursor:pointer; transition: background var(--dur-med) var(--ease-out), transform var(--dur-fast) var(--ease-out); }
button.icon:hover{ background:#f3f4f6; }
button.primary{ background:var(--brand-secondary); color:#fff; border:none; padding:0.6rem 1rem; border-radius:0.75rem; cursor:pointer; font-weight:600; }
button.primary:disabled{ opacity:0.6; cursor:not-allowed; }


.sidebar{ position:sticky; top:calc(var(--nav-height) + 0.25rem); }
/* Enlaces base (fallback) */
.nav-link{
  display:flex;
  align-items:center;
  gap:0.55rem;
  padding:0.5rem 0.75rem;
  border-radius:0.75rem;
  color:inherit;
  text-decoration:none;
  transition:background var(--dur-med) var(--ease-out), color var(--dur-med) var(--ease-out);
}
.nav-link:hover{ background: rgba(255,255,255,0.08); }
.nav-link[aria-current="page"], .nav-link.active{ background: rgba(37, 99, 235, 0.18); color:#fff; font-weight:600; }

/* Sidebar oscuro inspirado en Rasket */
.sidebar-nav{
  background: var(--sidebar-bg);
  color:var(--sidebar-fg);
  border: 1px solid var(--sidebar-border);
  padding:22px clamp(1rem, 2vw, 1.8rem);
  border-radius:0 32px 32px 0;
  box-shadow: 0 30px 70px rgba(7, 11, 24, 0.55), inset 0 1px 0 rgba(255,255,255,0.08);
  position:relative;
  overflow:hidden;
  min-height:100%;
  display:flex;
  flex-direction:column;
}
.sidebar-nav::after{
  content:'';
  position:absolute;
  inset:0;
  pointer-events:none;
  background: radial-gradient(circle at 15% 0, rgba(79,70,229,0.35), transparent 55%);
}
.sidebar-brand{
  display:flex;
  align-items:center;
  gap:0.85rem;
  padding-bottom:16px;
  border-bottom:1px solid rgba(255,255,255,0.08);
  margin-bottom:14px;
  position:relative;
  z-index:1;
}
.sidebar-logo{
  width:48px;
  height:48px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  letter-spacing:0.05em;
  color:#fff;
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-tertiary));
  box-shadow:0 20px 35px rgba(5,10,30,0.6);
}
.sidebar-brand-meta{
  display:flex;
  flex-direction:column;
  line-height:1.1;
}
.sidebar-brand-meta span{
  font-size:0.7rem;
  letter-spacing:0.2em;
  text-transform:uppercase;
  color:rgba(226,232,240,0.6);
}
.sidebar-brand-meta strong{
  color:#fff;
  font-size:1.05rem;
}
.sidebar-nav .nav-link{
  color:rgba(226,232,240,0.95);
  border-radius:14px;
  padding:0.65rem 0.85rem;
  font-size:0.92rem;
  font-weight:500;
  transition: background var(--dur-med) var(--ease-out), color var(--dur-med) var(--ease-out), border var(--dur-med) var(--ease-out);
  position:relative;
  z-index:1;
  display:flex;
  gap:0.65rem;
  border:1px solid transparent;
}
.sidebar-nav li + li{ margin-top:4px; }
.sidebar-nav .nav-link svg{ color:rgba(226,232,240,0.65); width:18px; height:18px; flex-shrink:0; }
.sidebar-nav .nav-link:hover{ background: rgba(255,255,255,0.08); color:#ffffff; border-color:rgba(255,255,255,0.12); }
.sidebar-nav .nav-link:hover svg{ color:#ffffff; }
.sidebar-nav .nav-link[aria-current="page"], .sidebar-nav .nav-link.active{
  background: linear-gradient(90deg, rgba(37,99,235,0.4), rgba(124,58,237,0.25));
  color:#ffffff;
  font-weight:600;
  border:1px solid rgba(99,102,241,0.4);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08);
}
.sidebar-nav .nav-link.active svg, .sidebar-nav .nav-link[aria-current="page"] svg{ color:#ffffff; }
.nav-link__content{ display:flex; flex-direction:column; line-height:1.15; }
.nav-link__label{ font-size:0.92rem; }
.nav-link__hint{ font-size:0.7rem; color:rgba(226,232,240,0.65); margin-top:2px; }

/* Sidebar sections */
.nav-section{
  font-size:0.65rem;
  letter-spacing:0.35em;
  text-transform:uppercase;
  color:rgba(226,232,240,0.55);
  padding:8px 8px 6px;
}
.nav-group{
  padding:8px;
  background: rgba(255,255,255,0.02);
  border:1px solid rgba(255,255,255,0.05);
  border-radius:16px;
  position:relative;
  z-index:1;
}
.nav-group + .nav-group{ margin-top:12px; }

.selectable{ border:1px solid var(--border-soft); border-radius:0.5rem; padding:0.75rem; display:flex; align-items:center; justify-content:space-between; }
.selectable.selected{ background:#e7f0ff; border-color:#3b82f6; box-shadow:0 0 0 2px rgba(59,130,246,0.3); }

/* Inputs/fields cohesion */
input[type="text"], input[type="search"], input[type="password"], input[type="email"], select, textarea{
  background:#F7F8FA;
  border:1px solid var(--border-soft);
  border-radius:10px;
  padding:10px 12px;
  transition: background var(--dur-med) var(--ease-out), border-color var(--dur-med) var(--ease-out), box-shadow var(--dur-med) var(--ease-out);
}
input:focus, select:focus, textarea:focus{
  outline:none;
  background:#fff;
  border-color: var(--brand-secondary);
  box-shadow:0 0 0 3px rgba(59,130,246,.14);
}
.profile-banner{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:1.25rem;
  padding:1.5rem;
  border-radius:26px;
  background: linear-gradient(120deg, #211c5f, #2430a9 55%, #1f5fe4);
  color:#fff;
  box-shadow:0 18px 38px rgba(15,23,42,0.28);
}
.profile-banner__avatar{
  width:72px;
  height:72px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,0.5);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.5rem;
  font-weight:600;
  background:rgba(255,255,255,0.15);
}
.profile-banner__body{ display:flex; flex-direction:column; gap:0.3rem; }
.profile-banner__meta{ font-size:0.85rem; opacity:0.85; }
.profile-banner__actions{ margin-left:auto; display:flex; gap:0.5rem; flex-wrap:wrap; }

/* Skip to content link for keyboard users */
.skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus{ left:16px; top:12px; width:auto; height:auto; padding:8px 12px; background:#111827; color:#fff; border-radius:8px; z-index:100; }

/* Screen-reader only helper */
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* Accents utilitarios */
.accent-blue{ --focus-ring: var(--blue-400); }
.accent-red{ --focus-ring: var(--red-500); }
.text-blue{ color: var(--brand-secondary); }
.text-red{ color: var(--brand-primary); }
.surface-blue{ background: var(--blue-50); }
.surface-red{ background: var(--red-50); }

/* Animaciones (respetando reduced motion) */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
}

@keyframes fadeUp { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }
@keyframes badgePop { from { transform: scale(.9); opacity:.6; } to { transform: scale(1); opacity:1; } }

.anim-fade-up{ animation: fadeUp var(--dur-slow) var(--ease-out) both; }
.anim-delay-1{ animation-delay: .02s; }
.anim-delay-2{ animation-delay: .08s; }
.anim-delay-3{ animation-delay: .14s; }
.anim-delay-4{ animation-delay: .20s; }

/* Temas rápidos por acento */
.theme-accent-blue{ --brand-secondary: var(--blue-500); --focus-ring: var(--blue-400); }
.theme-accent-red{ --brand-primary: var(--red-500); --focus-ring: var(--red-500); }

/* Segmented pill tabs */
.pill-tabs{ display:inline-flex; background:#fff; padding:4px; border:1px solid var(--border-soft); border-radius:999px; gap:4px; }
.pill-tab{ background:transparent; border:none; padding:6px 12px; border-radius:999px; font-weight:600; font-size:13px; color:#374151; cursor:pointer; }
.pill-tab:hover{ background:#f3f4f6; }
.pill-tab.active{ background:#EEF2FF; color:#111827; box-shadow:0 1px 0 rgba(0,0,0,0.04) inset; }

/* Stats & progress */
.stat-value{ font-size:20px; font-weight:700; color:#111827; }
.progress-line{ position:relative; height:6px; border-radius:999px; background:#eef2ff; margin-top:6px; overflow:hidden; border:1px solid #e5e7eb; }
.progress-line span{ display:block; height:100%; background:linear-gradient(90deg, var(--blue-300), var(--blue-500)); border-radius:999px; }
.progress-line.success span{ background: linear-gradient(90deg, #86efac, #22c55e); }
.progress-line.danger span{ background: linear-gradient(90deg, #fecaca, #ef4444); }

/* Sparkline placeholder */
.spark{ height:140px; border:1px dashed #e5e7eb; border-radius:12px; background: repeating-linear-gradient(90deg, #f4f6fb 0, #f4f6fb 8px, #f8fafc 8px, #f8fafc 16px); }

/* List surface & rows */
.list-surface{ list-style:none; padding:0; margin:0; }
.list-row{ display:flex; align-items:center; gap:10px; padding:8px 10px; border:1px solid var(--border-soft); border-radius:10px; background:#fff; }
.list-row + .list-row{ margin-top:6px; }
.list-row .time{ margin-left:auto; color:#6b7280; font-size:12px; }
.list-row svg{ width:18px; height:18px; color:#64748B; }
.list-row .ok{ color:#16a34a; }
.list-row .warn{ color:#ef4444; }
.list-row .muted{ color:#6b7280; }

/* Avatar tiny */
.avatar{ width:34px; height:34px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center; background: var(--blue-50); color: var(--blue-600); font-weight:700; border:1px solid var(--blue-100); }

/* Donut card */
.donut{ position:relative; width:140px; height:140px; margin:auto; }
.donut .ring{ position:absolute; inset:0; border-radius:999px; background: conic-gradient(var(--blue-500) var(--p,65%), #eef2ff 0); display:block; }
.donut .ring::after{ content:''; position:absolute; inset:14px; background:#fff; border-radius:999px; box-shadow: inset 0 0 0 1px var(--border-soft); }
.donut .center{ position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; }
.donut .center .value{ font-weight:800; font-size:22px; }
.donut .center .sub{ font-size:12px; color:#6b7280; }

/* ========================================
   MODERN FORM CONTROLS & VALIDATION
   ======================================== */

/* Input groups con validación en tiempo real */
.form-group{
  margin-bottom: 1.25rem;
  position: relative;
}

.form-label{
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-main);
  margin-bottom: 0.5rem;
  letter-spacing: -0.01em;
}

.form-label.required::after{
  content: '*';
  color: var(--accent-danger);
  margin-left: 0.25rem;
}

.form-input,
.form-select,
.form-textarea{
  width: 100%;
  background: #FFFFFF;
  border: 1.5px solid var(--border-soft);
  border-radius: var(--radius-input);
  padding: 0.625rem 0.875rem;
  font-size: 0.9375rem;
  color: var(--text-main);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-xs);
}

.form-input::placeholder,
.form-textarea::placeholder{
  color: var(--text-placeholder);
}

.form-input:hover,
.form-select:hover,
.form-textarea:hover{
  border-color: var(--border-strong);
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus{
  outline: none;
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 3px var(--focus-ring), var(--shadow-sm);
  background: #FFFFFF;
}

/* Estados de validación */
.form-input.is-valid,
.form-select.is-valid,
.form-textarea.is-valid{
  border-color: var(--accent-success);
  padding-right: 2.5rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2300B67A' stroke-width='3'%3E%3Cpath d='M20 6L9 17l-5-5'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1.125rem;
}

.form-input.is-valid:focus,
.form-select.is-valid:focus,
.form-textarea.is-valid:focus{
  box-shadow: 0 0 0 3px rgba(0, 182, 122, 0.15), var(--shadow-sm);
}

.form-input.is-invalid,
.form-select.is-invalid,
.form-textarea.is-invalid{
  border-color: var(--accent-danger);
  padding-right: 2.5rem;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23DC2626' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cline x1='12' y1='8' x2='12' y2='12'/%3E%3Cline x1='12' y1='16' x2='12.01' y2='16'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 1.125rem;
}

.form-input.is-invalid:focus,
.form-select.is-invalid:focus,
.form-textarea.is-invalid:focus{
  box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.15), var(--shadow-sm);
}

/* Mensajes de validación */
.form-feedback{
  display: flex;
  align-items: flex-start;
  gap: 0.375rem;
  margin-top: 0.5rem;
  font-size: 0.8125rem;
  font-weight: 500;
  line-height: 1.4;
}

.form-feedback.is-valid{
  color: var(--accent-success);
}

.form-feedback.is-invalid{
  color: var(--accent-danger);
}

.form-feedback svg{
  width: 1rem;
  height: 1rem;
  flex-shrink: 0;
  margin-top: 0.125rem;
}

.form-hint{
  display: block;
  font-size: 0.8125rem;
  color: var(--text-muted);
  margin-top: 0.375rem;
  line-height: 1.4;
}

/* ========================================
   MODERN BUTTONS
   ======================================== */

.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.625rem 1.25rem;
  border-radius: var(--radius-button);
  font-size: 0.9375rem;
  font-weight: 600;
  line-height: 1.5;
  text-decoration: none;
  border: none;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-sm);
  white-space: nowrap;
}

.btn:disabled{
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
}

.btn-primary{
  background: var(--brand-primary);
  color: var(--text-invert);
}

.btn-primary:hover:not(:disabled){
  background: #0046B0;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-primary:active:not(:disabled){
  transform: translateY(0);
}

.btn-secondary{
  background: var(--brand-secondary);
  color: var(--text-invert);
}

.btn-secondary:hover:not(:disabled){
  background: #002952;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-outline{
  background: transparent;
  border: 1.5px solid var(--border-strong);
  color: var(--text-main);
  box-shadow: var(--shadow-xs);
}

.btn-outline:hover:not(:disabled){
  background: var(--surface-hover);
  border-color: var(--brand-primary);
  color: var(--brand-primary);
  box-shadow: var(--shadow-sm);
}

.btn-ghost{
  background: transparent;
  color: var(--text-secondary);
  box-shadow: none;
}

.btn-ghost:hover:not(:disabled){
  background: var(--surface-hover);
  color: var(--text-main);
}

.btn-success{
  background: var(--accent-success);
  color: var(--text-invert);
}

.btn-success:hover:not(:disabled){
  background: #009E6C;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-danger{
  background: var(--accent-danger);
  color: var(--text-invert);
}

.btn-danger:hover:not(:disabled){
  background: #B91C1C;
  box-shadow: var(--shadow-md);
  transform: translateY(-1px);
}

.btn-sm{
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.btn-lg{
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
}

/* ========================================
   MODERN CALENDAR COMPONENT
   ======================================== */

.calendar-modern{
  background: var(--surface-card);
  border: 1px solid var(--border-soft);
  border-radius: var(--radius-card);
  padding: 1.25rem;
  box-shadow: var(--shadow-sm);
}

.calendar-header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--border-soft);
}

.calendar-title{
  font-size: 1rem;
  font-weight: 700;
  color: var(--text-main);
  letter-spacing: -0.02em;
}

.calendar-nav{
  display: flex;
  gap: 0.5rem;
}

.calendar-nav-btn{
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border: 1px solid var(--border-soft);
  border-radius: 6px;
  background: var(--surface-card);
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.calendar-nav-btn:hover{
  background: var(--surface-hover);
  border-color: var(--brand-primary);
  color: var(--brand-primary);
}

.calendar-grid{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 0.375rem;
}

.calendar-weekday{
  text-align: center;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text-muted);
  padding: 0.5rem 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.calendar-day{
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.875rem;
  font-weight: 500;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  color: var(--text-main);
  background: transparent;
  border: 1px solid transparent;
}

.calendar-day:hover:not(.calendar-day--disabled):not(.calendar-day--selected){
  background: var(--surface-hover);
  border-color: var(--border-soft);
}

.calendar-day--other-month{
  color: var(--text-muted);
  opacity: 0.4;
}

.calendar-day--disabled{
  color: var(--text-muted);
  opacity: 0.3;
  cursor: not-allowed;
}

.calendar-day--today{
  font-weight: 700;
  color: var(--brand-primary);
}

.calendar-day--selected{
  background: var(--brand-primary);
  color: var(--text-invert);
  font-weight: 600;
  box-shadow: var(--shadow-md);
}

.calendar-day--has-slots::after{
  content: '';
  position: absolute;
  bottom: 4px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: var(--accent-success);
}

.calendar-day--selected.calendar-day--has-slots::after{
  background: rgba(255, 255, 255, 0.9);
}

/* ========================================
   TIME SLOT PICKER - MODERN DESIGN
   ======================================== */

.time-slots-container{
  background: #FAFBFC;
  border: 1px solid var(--border-soft);
  border-radius: var(--radius-card);
  padding: 1rem;
}

.time-slots-header{
  margin-bottom: 0.75rem;
}

.time-slots-title{
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-main);
  margin-bottom: 0.25rem;
}

.time-slots-subtitle{
  font-size: 0.8125rem;
  color: var(--text-muted);
}

.time-slots-grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 0.5rem;
  max-height: 320px;
  overflow-y: auto;
  padding: 0.25rem;
}

.time-slot{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 0.5rem;
  border: 1.5px solid var(--border-soft);
  border-radius: 8px;
  background: var(--surface-card);
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 52px;
}

.time-slot:hover{
  border-color: var(--brand-primary);
  background: #F0F6FF;
  box-shadow: var(--shadow-sm);
  transform: translateY(-1px);
}

.time-slot--selected{
  background: var(--brand-primary);
  border-color: var(--brand-primary);
  box-shadow: var(--shadow-md);
}

.time-slot__time{
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-main);
}

.time-slot--selected .time-slot__time{
  color: var(--text-invert);
}

.time-slot--disabled{
  opacity: 0.4;
  cursor: not-allowed;
  pointer-events: none;
}

/* ========================================
   MODERN ALERT/NOTIFICATION STYLES
   ======================================== */

.alert{
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem 1.25rem;
  border-radius: var(--radius-card);
  border: 1px solid;
  margin-bottom: 1rem;
  font-size: 0.9375rem;
  line-height: 1.5;
}

.alert-success{
  background: #ECFDF5;
  border-color: #A7F3D0;
  color: #065F46;
}

.alert-warning{
  background: #FFFBEB;
  border-color: #FCD34D;
  color: #92400E;
}

.alert-danger{
  background: #FEF2F2;
  border-color: #FECACA;
  color: #991B1B;
}

.alert-info{
  background: #EFF6FF;
  border-color: #BFDBFE;
  color: #1E3A8A;
}

.alert svg{
  width: 1.25rem;
  height: 1.25rem;
  flex-shrink: 0;
  margin-top: 0.125rem;
}

/* ========================================
   MODERN LOADING STATES
   ======================================== */

.skeleton{
  background: linear-gradient(90deg, #F0F0F0 25%, #E0E0E0 50%, #F0F0F0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: 4px;
}

@keyframes skeleton-loading{
  0%{ background-position: 200% 0; }
  100%{ background-position: -200% 0; }
}

.spinner{
  display: inline-block;
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid rgba(0, 82, 204, 0.2);
  border-top-color: var(--brand-primary);
  border-radius: 50%;
  animation: spinner-rotate 0.6s linear infinite;
}

@keyframes spinner-rotate{
  to{ transform: rotate(360deg); }
}

.spinner-lg{
  width: 2rem;
  height: 2rem;
  border-width: 3px;
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

.text-success{ color: var(--accent-success); }
.text-warning{ color: var(--accent-warning); }
.text-danger{ color: var(--accent-danger); }
.text-info{ color: var(--accent-info); }

.bg-success-subtle{ background: #ECFDF5; }
.bg-warning-subtle{ background: #FFFBEB; }
.bg-danger-subtle{ background: #FEF2F2; }
.bg-info-subtle{ background: #EFF6FF; }

.border-success{ border-color: var(--accent-success); }
.border-warning{ border-color: var(--accent-warning); }
.border-danger{ border-color: var(--accent-danger); }
.border-info{ border-color: var(--accent-info); }
